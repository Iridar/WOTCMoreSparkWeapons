Created by Iridar, as voted by patrons.

More info at: https://www.patreon.com/Iridar


Changelog:
Better camera offset for cannons and incinerators.
Cooked mod's assets.
"WOTCIridarTemplateMaster" is now required.
Fix bug where advanced munitions mount allowed equipping specials shells alongside itself.


[WOTC] Iridar's SPARK Arsenal
Adds new weapons, tools and gameplay mechanics for SPARKs, [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1452700934]MEC Troopers[/url][/b] and regular soldiers.

[b][url=https://steamcommunity.com/workshop/filedetails/discussion/2127166233/2568690416483865842/]>>> CLICK HERE FOR THE FULL LIST OF NEW FEATURES <<<[/url][/b]

[b]New Primary Weapons for SPARKs and MEC Troopers:[/b][list]
[*] Heavy Cannons (3 tiers)
[*] Incinerators (3 tiers)[/list]

[b]New Secondary Weapons for SPARKs and MEC Troopers:[/b][list]
[*] Ordnance Launchers (3 tiers)
[*] Kinetic Strike Module (1 tier)
[*] Munitions Mount (2 tiers)
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1416242202]Ballistic Shields[/url][/b] can now be equipped by SPARKs and MEC Troopers.[/list]

[b]New Heavy Weapons:[/b][list]
[*] Kiruka Autogun
[*] Kiruka Autopulser
[*] Heavy Strike Module
[*] Powered Strike Module
[*] Restorative Mist
[*] E.M. Pulse[/list]

[b]New Inventory Slot for SPARKs and MEC Troopers: Auxiliary Weapon[/b]

[b]New items that go into that slot:[/b][list]
[*] Special Shells for Heavy Cannons (3 variants, each has 2 tiers)[/list]

[b]New Weapon Upgrades:[/b][list]
[*] Experimental Magazine - grants an Ammo Slot.
[*] Speed Loader - reload for free when performing a dash.[/list]

[b]New Experimental Ammo: Sabot Rounds[/b]

[b]BIT and GREMLIN Changes:[/b][list]
[*] SPARKs, MEC Troopers, Specialists and other similar classes can now use both BITs and GREMLINs as secondary weapons.
[*] BITs can be used with all vanilla Protocol abilities, including remote hacking, but they are weaker in that role than GREMLINs.
[*] BITs no longer grant a generic Heavy Weapon slot, and instead add a BIT Heavy Weapon slot.
[*] Control over the heavy weapon in that slot is temporarily transferred to the target allied soldier when you use Aid Protocol on them.
[*] Having a BIT or GREMLIN equipped will grant Aid Protocol, Active Camo (see below) and Entrench Protocol. 
[*] Entrench Protocol will extend the duration of Aid Protocol used on self as long as the unit doesn't move, but the cooldown is extended as well.[/list]

[b]Misc changes:[/b][list]
[*] SPARKs and MEC Troopers have their detection radius increased by 50%, making it much harder for them to stay concealed. Having a BIT or GREMLIN equipped will grant the Active Camo passive ability, which will reduce the detection radius to be the same as for regular soldiers.
[*] SPARKs and MEC Troopers no longer have a dedicated Heavy Weapon slot by default, but they can still equip them on a BIT, or in the Auxiliary Weapon slot, if you complete the required Proving Grounds project.
[*] SPARKs and MEC Troopers can now Hack objectives without having a BIT equipped and gain +30 Hack at squaddie.
[*] SPARKs and MEC Troopers now have Hunker Down and Deflect animations. SPARK Arsenal currently does not add any abilities that use these animations, but it allows existing third party abilities, such as Shield Wall, to visualize properly.
[*] Shredder Gun, Shredstorm Cannon and Plasma Blaster heavy weapons now properly knockback enemies on kills.[/list]

[h1]BALANCING[/h1]

This mod is a significant buff to SPARKs' and MECs' power. However, it is created around the expectation that SPARKs and MEC Troopers do not have Utility Slots. So if another mod adds some Utility Slots, and lets you carry more than 2-3 grenades/rockets, please do not complain that it's overpowered, that is not the intended behavior for this mod. The mod does support grenades/rockets in Utility Slots, if that's what you want to do.

[h1]KNOWN ISSUES[/h1]

SPARK Heavy Cannon can fire for free when using RPGO under the effects of Overdrive. This is caused by RPGO and will not be fixed in this mod.

[h1]REQUIREMENTS[/h1]
[list]
[*] [url=https://steamcommunity.com/workshop/filedetails/?id=1134256495][b]X2WOTCCommunityHighlander[/b][/url] v1.21 or higher is required. It's possible to manually configure the mod for the limited compatibility for the older Highlander versions, [b][url=https://steamcommunity.com/workshop/filedetails/discussion/2127166233/2442587820564618365/]the instructions are here[/url][/b].
[*] [b]Shen's Last Gift DLC[/b] is required. 
[*] [b]Alien Hunters DLC[/b] - probably required.[/list]

[h1]COMPANION MODS[/h1]
[list]
[*] [url=https://steamcommunity.com/sharedfiles/filedetails/?id=1517938486][b][WOTC] Iridar's Weapon Skin Replacer[/b][/url] - removes unwanted "primary" versions of some of the items added by this mod.
[*] [url=https://steamcommunity.com/sharedfiles/filedetails/?id=2363075446][b][WOTC] Iridar's Template Master - Core[/b][/url] - adds icons for Incinerators' weapon upgrades that are available only if you also use [b]Mitzruti's Immolators[/b] mod. 
[*] [url=https://steamcommunity.com/sharedfiles/filedetails/?id=1737532501][b][WotC] Weapon Fixes[/b][/url] - fixes Incinerators attack visualization.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1775963384][WOTC] Rocket Launchers 2.0[/url][/b] - fully supported. This mod enables SPARKs to carry, Take, Arm and Give rockets, as well as Fire them with the Ordnance Launcher. SPARKs do not suffer movement penalties for carrying rockets. All rockets are supported, including the Tactical Elerium Nuke. Judgement Day is upon ADVENT.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1161324428]SPARK Launchers Redux[/url][/b] - can be carried in the Auxiliary Weapon Slot. 
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=2025780967][WOTC] Iridar's Scatter Mod[/url][/b] - adds scatter to grenades and rockets and HE/HESH Heavy Cannon shots.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1918448514]Immolator + Chemthrower Abilities[/url][/b] - adds Canisters that work with SPARK Incinerators when carried in the Auxiliary Weapon Slot, and weapon upgrades for Incinerators themselves. You can also subscribe to [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=2237137501][WOTC] Immolator Overhaul[/url][/b] so that Mitzruti's Immolators look like mini-Incinerators.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1416242202]WotC Ballistic Shields[/url][/b] - fully supported. This mod enables SPARKs to use Ballistic Shields as secondary weapons, providing all the same abilities and bonuses as for regular soldiers.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1503786591][WOTC] System Infiltration[/url][/b] - fully supported. SPARKs and MEC Troopers can use System Infiltration with and without BIT/GREMLIN, as well as carry the Hacker's Laptop in the Auxiliary Weapon slot.[/list]

[h1]COMPATIBILITY[/h1]

I tried to keep the mod as compatible as possible, including all the major overhauls. For compatibility notes with specific mods please [b][url=https://steamcommunity.com/workshop/filedetails/discussion/2127166233/2442587820564618365/]go here[/url][/b].

[h1]CONFIGURATION[/h1]

The mod is [b][i]highly[/i][/b] configurable through various files in:
[code]..\steamapps\workshop\content\268500\2127166233\Config\[/code]

[h1]CREDITS[/h1]

First of all, huge thanks to my [b][url=https://www.patreon.com/Iridar]patrons on patreon[/url][/b] for producing this mod. It's a [b][i]blast[/i][/b] to work with so many wonderful people. Particularly:
[b]Arkhangel[/b], [b]lago508[/b], [b]Chris the Thin Mint[/b] and [b]Wolfcub05[/b] - feedback and ideas.
[b]Kiruka[/b] - a long time patron, requested the Autogun to make SPARKs better equipped to deal with the Lost. I named the weapon after her as a sign of appreciation for her support.

And thanks to comrades in arms:
[b]XCOMrades[/b] - Russian translation.
[b]Musashi[/b] - for graciously providing the custom death animation code. 
[b]NeIVIeSiS[/b] - for making many of the icons for this mod.
[b]bstar[/b] - brainstorm assistance.






[h1]KSM Custom Death Animations[/h1]

When [b]Kinetic Strike[/b] ability kills an enemy, custom kill/death animations will play, if possible. These custom animations may inexplicably fail to play in some circumstances, in which case the game should default to regular kill/death animations.

Custom animations are configured via [b]XComKineticStrikeModule.ini[/b] by adding [b]KSMSpecialDeathAnimation[/b] entries, for example:

[WOTCMoreSparkWeapons.KSMHelper]
+KSMSpecialDeathAnimation = (CharacterTemplateName = "AdvTrooper", KillSequence = "FF_KSMKill_TrooperA", DeathSequence = "FF_KSMDeath_TrooperA", DeathAnimSet = "IRIKineticStrikeModule.Anims.AS_Trooper_Death")

Currently available parameters are:[list]
[*] [b]CharacterTemplateName[/b] - character template name of the unit that should play the custom death animation when killed by Kinetic Strike. By default, partially matching template names are accepted. E.g. "AdvTrooper" will work for AdvTrooperM1, AdvTrooperM2 and AdvTrooperM3.
[*] [b]bStrictMatch[/b] - if this is "true", only character templates with exactly matching template names will be accepted. This can be used, for example, if you want a "Muton" to be affected, but a "MutonCenturion" - not.
[*] [b]KillAnimSet[/b] - path to an AnimSet that will contain a custom kill animation that will be used by the SPARK / MEC Trooper. It's not necessary to specify the AnimSet if it is already applied to the unit via any means. Refer to "IRIKineticStrikeModule.Anims.AS_KSM_Pawn" for examples on how custom kill animations should look like. Note that in this case the NotifyTarget (UnitHit) AnimNotify will signal the game when to start playing the custom death animation.
[*] [b]KillSequence[/b] - name of the animsequence that will be played by the unit to kill the target. 
[*] [b]DeathAnimSet[/b] - path to an AnimSet that will contain a custom death animation. Similarly, there is no need to specify the path if the target already has that AnimSet applied.
[*] [b]DeathSequence[/b] - name of the custom death animsequence.
[/list]

If a character template has several KSMSpecialDeathAnimation entries, one will be selected at random each time the unit of that template is killed.

[h1]Mod Compatibility[/h1]

[url=https://steamcommunity.com/sharedfiles/filedetails/?id=1499767042][b][WOTC] Mechatronic Warfare: Total SPARK Overhaul[/b][/url]

Fully supported. [b]Bombardment[/b] ability can be used with Ordnance Launchers instead of the BIT, but then it will behave exactly the same as vanilla SPARK Bombard ability.

[url=https://steamcommunity.com/sharedfiles/filedetails/?id=1537675645][b]A Better Barracks: TLE[/b][/url]

Nothing incompatible on the first glance, but no playtesting has been done.

[b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1452700934]MEC Troopers[/url][/b]

Fully supported, except for soldiers' facial expressions during custom animations added by the Arsenal mod.

[b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1125117203]Metal Over Flesh Redux[/url][/b]

Compatible. [b]Heavy Weapon Storage[/b] perk does not affect Heavy Weapons in the auxilary slot, and I'm fine with that.

[url=https://steamcommunity.com/sharedfiles/filedetails/?id=1383408046][b]Honey's Heavy Support Items [WOTC][/b][/url]

Compatible, but not supported in the Auxiliary Weapon slot. Same goes for [b][i]ALL[/i][/b] mod-added Heavy Weapons.

[url=https://steamcommunity.com/sharedfiles/filedetails/?id=2025780967][b][WOTC] Iridar's Scatter Mod[/b][/url]

I included some copy-pasted config that will add scatter to grenades launched via Ordnance Launcher.









[WOTC] Iridar's SPARK Arsenal 3.0

Adds new weapons, tools and gameplay mechanics for SPARKs, [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1452700934]MEC Troopers[/url][/b] and regular soldiers.

[b][url=https://steamcommunity.com/workshop/filedetails/discussion/2127166233/2568690416483865842/]>>> CLICK HERE FOR THE FULL LIST OF NEW FEATURES <<<[/url][/b]+

[b]New Primary Weapons for SPARKs and MEC Troopers:[/b][list]
[*] Heavy Cannons (3 tiers)
[*] Incinerators (3 tiers)[/list]

[b]New Secondary Weapons for SPARKs and MEC Troopers:[/b][list]
[*] Ordnance Launchers (3 tiers)
[*] Kinetic Strike Module (1 tier)
[*] Munitions Mount (2 tiers)
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1416242202]Ballistic Shields[/url][/b] can now be equipped by SPARKs and MEC Troopers.[/list]

[b]New Heavy Weapons:[/b][list]
[*] Kiruka Autogun
[*] Kiruka Autopulser
[*] Heavy Strike Module
[*] Powered Strike Module
[*] Restorative Mist
[*] E.M. Pulse[/list]

[b]New Inventory Slot for SPARKs and MEC Troopers: Auxiliary Weapon[/b]

[b]New items that go into that slot:[/b][list]
[*] Special Shells for Heavy Cannons (3 variants, each has 2 tiers)[/list]

[b]New Weapon Upgrades:[/b][list]
[*] Experimental Magazine - grants an Ammo Slot.
[*] Speed Loader - reload for free when performing a dash.[/list]

[b]New Experimental Ammo: Sabot Rounds[/b]

[b]BIT and GREMLIN Changes:[/b][list]
[*] SPARKs, MEC Troopers, Specialists and other similar classes can now use both BITs and GREMLINs as secondary weapons.
[*] BITs can be used with all vanilla Protocol abilities, including remote hacking, but they are weaker in that role than GREMLINs.
[*] BITs no longer grant a generic Heavy Weapon slot, and instead add a BIT Heavy Weapon slot.
[*] Control over the heavy weapon in that slot is temporarily transferred to the target allied soldier when you use Aid Protocol on them.
[*] Having a BIT or GREMLIN equipped will grant Aid Protocol, Active Camo (see below) and Entrench Protocol. 
[*] Entrench Protocol will extend the duration of Aid Protocol used on self as long as the unit doesn't move, but the cooldown is extended as well.[/list]

[b]Misc changes:[/b][list]
[*] SPARKs and MEC Troopers have their detection radius increased by 50%, making it much harder for them to stay concealed. Having a BIT or GREMLIN equipped will grant the Active Camo passive ability, which will reduce the detection radius to be the same as for regular soldiers.
[*] SPARKs and MEC Troopers no longer have a dedicated Heavy Weapon slot by default, but they can still equip them on a BIT, or in the Auxiliary Weapon slot, if you complete the required Proving Grounds project.
[*] SPARKs and MEC Troopers can now Hack objectives without having a BIT equipped and gain +30 Hack at squaddie.
[*] SPARKs and MEC Troopers now have Hunker Down and Deflect animations. SPARK Arsenal currently does not add any abilities that use these animations, but it allows existing third party abilities, such as Shield Wall, to visualize properly.
[*] Shredder Gun, Shredstorm Cannon and Plasma Blaster heavy weapons now properly knockback enemies on kills.[/list]

[h1]BALANCING[/h1]

This mod is a significant buff to SPARKs' and MECs' power. However, it is created around the expectation that SPARKs and MEC Troopers do not have Utility Slots. So if another mod adds some Utility Slots, and lets you carry more than 2-3 grenades/rockets, please do not complain that it's overpowered, that is not the intended behavior for this mod. The mod does support grenades/rockets in Utility Slots, if that's what you want to do.

[h1]REQUIREMENTS[/h1]
[list]
[*] [url=https://steamcommunity.com/workshop/filedetails/?id=1134256495][b]X2WOTCCommunityHighlander[/b][/url] v1.21 or higher is required. It's possible to manually configure the mod for the limited compatibility for the older Highlander versions, [b][url=https://steamcommunity.com/workshop/filedetails/discussion/2127166233/2442587820564618365/]the instructions are here[/url][/b].
[*] [b]Shen's Last Gift DLC[/b] is required. 
[*] [b]Alien Hunters DLC[/b] - I used a few assets from it, so it's probably required, though the mod might still function without it.
[*] [url=https://steamcommunity.com/sharedfiles/filedetails/?id=1517938486][b][WOTC] Iridar's Weapon Skin Replacer[/b][/url] is required to add inventory icons for Incinerator weapon upgrades that are available only if you also use [b]Mitzruti's Immolators[/b] mod. You don't have to use this mod if you don't care about that.
[*] [url=https://steamcommunity.com/sharedfiles/filedetails/?id=1737532501][b][WotC] Weapon Fixes[/b][/url] is required to fix Incinerators attack visualization. You don't have to use this mod if you don't care about that.[/list]

[h1]COMPANION MODS[/h1]
[list]
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1775963384][WOTC] Rocket Launchers 2.0[/url][/b] - fully supported. This mod enables SPARKs to carry, Take, Arm and Give rockets, as well as Fire them with the Ordnance Launcher. SPARKs do not suffer movement penalties for carrying rockets. All rockets are supported, including the Tactical Elerium Nuke. Judgement Day is upon ADVENT.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1161324428]SPARK Launchers Redux[/url][/b] - can be carried in the Auxiliary Weapon Slot. 
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=2025780967][WOTC] Iridar's Scatter Mod[/url][/b] - adds scatter to grenades and rockets and HE/HESH Heavy Cannon shots.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1918448514]Immolator + Chemthrower Abilities[/url][/b] - adds Canisters that work with SPARK Incinerators when carried in the Auxiliary Weapon Slot, and weapon upgrades for Incinerators themselves. You can also subscribe to [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=2237137501][WOTC] Immolator Overhaul[/url][/b] so that Mitzruti's Immolators look like mini-Incinerators.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1416242202]WotC Ballistic Shields[/url][/b] - fully supported. This mod enables SPARKs to use Ballistic Shields as secondary weapons, providing all the same abilities and bonuses as for regular soldiers.
[*] [b][url=https://steamcommunity.com/sharedfiles/filedetails/?id=1503786591][WOTC] System Infiltration[/url][/b] - fully supported. SPARKs and MEC Troopers can use System Infiltration with and without BIT/GREMLIN, as well as carry the Hacker's Laptop in the Auxiliary Weapon slot.[/list]

[h1]COMPATIBILITY[/h1]

I tried to keep the mod as compatible as possible, including all the major overhauls. For compatibility notes with specific mods please [b][url=https://steamcommunity.com/workshop/filedetails/discussion/2127166233/2442587820564618365/]go here[/url][/b].

[h1]CONFIGURATION[/h1]

The mod is [b][i]highly[/i][/b] configurable through various files in:
[code]..\steamapps\workshop\content\268500\2127166233\Config\[/code]

[h1]CREDITS[/h1]

First of all, huge thanks to my [b][url=https://www.patreon.com/Iridar]patrons on patreon[/url][/b] for producing this mod. It's a [b][i]blast[/i][/b] to work with so many wonderful people. Particularly:
[b]Arkhangel[/b], [b]lago508[/b], [b]Chris the Thin Mint[/b] and [b]Wolfcub05[/b] - feedback and ideas.
[b]Kiruka[/b] - a long time patron, requested the Autogun to make SPARKs better equipped to deal with the Lost. I named the weapon after her as a sign of appreciation for her support.

And thanks to comrades in arms:
[b]Musashi[/b] - for graciously providing the custom death animation code. 
[b]NeIVIeSiS[/b] - for making many of the icons for this mod.
[b]bstar[/b] - brainstorm assistance.